<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Bingo Bosa EstaciÃ³n</title>



<style>
    body {
        margin: 0;
        background: #200654;
        color: white;
        font-family: Arial, sans-serif;
        overflow-x: hidden;
    }

    #logoMira {
        position: fixed;
        top: 12px;
        left: 12px;
        width: 150px;
        z-index: 9999;
    }

    /* ==========================
       LAYOUT BASE
    ========================== */
    .container {
        display: flex;
        height: 100vh;
        width: 100%;
    }

    .left {
        width: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-direction: column;
        position: relative;
        perspective: 2000px;
        border-right: 3px solid #FFD700;
        overflow: hidden;
    }

    .right {
        width: 50%;
        padding: 30px;
        overflow-y: auto;
    }

    /* ==========================
       FLOTANTES
    ========================== */

    .floating-top,
    .floating-bottom {
        position: absolute;
        pointer-events: none;
        z-index: 0;
    }

    .floating-top {
        width: 120%;
        height: 45%;
        top: 0;
        left: 0;
    }

    .floating-bottom {
        width: 150%;
        height: 45%;
        top: 55%;
        left: 0;
    }

    .float-ball {
        position: absolute;
        width: 42px;
        height: 42px;
        background: radial-gradient(circle, #FFF6B0, #ffe57b);
        border-radius: 50%;
        opacity: 0.70;
        animation: float 6s ease-in-out infinite;
        filter: blur(1px);
    }

    @keyframes float {
        0%   { transform: translateY(0px); }
        50%  { transform: translateY(-35px); }
        100% { transform: translateY(0px); }
    }

    /* ==========================
       BALOTA
    ========================== */

    #bola {
        width: 260px;
        height: 260px;
        border-radius: 50%;
        background: radial-gradient(circle, #FFF3D6, #FFD700);
        border: 8px solid #FFD700;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 180px;
        font-weight: bold;
        color: #000;
        position: relative;
        z-index: 5;
        transition: 0.3s;
    }

    .flash { animation: flash 0.6s ease; }
    @keyframes flash {
        0% { box-shadow: 0 0 40px 15px #FFD700; }
        100% { box-shadow: none; }
    }

    .shake { animation: shake 0.4s ease; }
    @keyframes shake {
        0% { transform: translateX(0); }
        25% { transform: translateX(-10px); }
        50% { transform: translateX(10px); }
        75% { transform: translateX(-6px); }
        100% { transform: translateX(0); }
    }

    /* ==========================
       ORBITA 3D ORIGINAL
    ========================== */

    #orbita {
        position: absolute;
        width: 1300px;       /* tamaÃ±o grande para escritorio */
        height: 1300px;
        top: 42%;
        left: 50%;
        transform-style: preserve-3d;
        transform: translate(-50%, -50%);
        pointer-events: none;
        z-index: 10;
    }

    .punto {
        position: absolute;
        width: 4px;
        height: 4px;
        background: #FFD700;
        border-radius: 50%;
        opacity: 0;
        transition: opacity 0.1s linear;
    }

    .girar {
        animation: rotar 0.6s linear infinite;
    }

    @keyframes rotar {
        0%   { transform: translate(-50%, -50%) rotateY(0deg); }
        100% { transform: translate(-50%, -50%) rotateY(360deg); }
    }

    /* ==========================
       BOTÃ“N
    ========================== */

    #btn {
        margin-top: 30px;
        padding: 18px 50px;
        font-size: 22px;
        background: #00389F;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        color: white;
        box-shadow: 0 0 15px #00389F;
        z-index: 100;
    }

    #btn:active {
        transform: scale(1.15);
        transition: transform 0.15s ease;
    }

    /* ==========================
       TABLERO DERECHA
    ========================== */

    .fila {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 1px solid #444;
    }

    .letra {
        width: 70px;
        font-size: 55px;
        font-weight: bold;
        color: #FFD700;
        text-shadow: 0 0 10px #FFD700;
    }

    .numero {
        display: inline-block;
        margin: 5px;
        padding: 8px 14px;
        background: #222;
        border: 2px solid #FFD700;
        border-radius: 5px;
        font-size: 22px;
        animation: pop 0.4s ease;
    }

    /* ==============================
       ðŸŽ¯ RESPONSIVE â€” ESCALADO REAL
    ============================== */

    @media (max-width: 900px) {

        .container {
            flex-direction: column;
            height: auto;
            overflow: hidden;
        }

        .left {
            width: 100%;
            height: 60vh;
            border-right: none;
            border-bottom: 3px solid #FFD700;
            padding-top: 110px;
        }

        .right {
            width: 100%;
            height: auto;
        }

        /* ðŸŸ¡ ESCALA COMPLETA DE LA Ã“RBITA */
        #orbita {
            transform: translate(-50%, -50%) scale(0.45) !important;
            top: 45% !important;
        }

        #bola {
            width: 150px;
            height: 150px;
            font-size: 32px;
            margin-bottom: 20px;
            z-index: 20;
        }

        #btn {
            padding: 12px 35px;
            font-size: 18px;
            margin-top: 10px;
            z-index: 20;
        }

        .letra {
            font-size: 40px;
            width: 45px;
        }
    }

    @media (max-width: 450px) {

        #orbita {
        position: absolute;
        width: 1800px;       /* tamaÃ±o grande para escritorio */
        height: 1800px;
        top: 8%;
        left: 50%;
        transform-style: preserve-3d;
        transform: translate(-50%, -50%);
        pointer-events: none;
        z-index: 10;
    }


        #bola {
            width: 150px;
            height: 150px;
            bottom: 14%;
            font-size: 26px;
        }

        #btn {
            padding: 10px 28px;
            font-size: 16px;
        }
    }

</style>
</head>

<body>

<img id="logoMira"
    src="https://partidomira.com/wp-content/uploads/2024/10/logo_sidebar.png.webp" />

<div class="container">
    <div class="left">

        <div class="floating-top" id="floatingTop"></div>
        <div class="floating-bottom" id="floatingBottom"></div>

        <div id="orbita"></div>

        <div id="bola">Â¡ MIRA !</div>

        <button id="btn">Sacar Balota</button>
    </div>

    <div class="right">
        <div class="fila"><div class="letra">B</div><div id="historialB"></div></div>
        <div class="fila"><div class="letra">I</div><div id="historialI"></div></div>
        <div class="fila"><div class="letra">N</div><div id="historialN"></div></div>
        <div class="fila"><div class="letra">G</div><div id="historialG"></div></div>
        <div class="fila"><div class="letra">O</div><div id="historialO"></div></div>
    </div>
</div>


<!-- SONIDOS -->
<audio id="s_ruleta" src="https://cdn.freesound.org/previews/560/560145_7037-lq.mp3"></audio>
<audio id="s_pop" src="https://cdn.freesound.org/previews/341/341695_5260870-lq.mp3"></audio>
<audio id="s_hit" src="https://cdn.freesound.org/previews/411/411642_5121236-lq.mp3"></audio>

<script>
/* ============================================================
   BOLAS FLOTANTES
============================================================ */

function generarBolas(area, cantidad) {
    for (let i = 0; i < cantidad; i++) {
        const ball = document.createElement("div");
        ball.classList.add("float-ball");

        ball.style.left = (Math.random() * 80) + "%";
        ball.style.top = (Math.random() * 80) + "%";

        ball.style.animationDuration = (5 + Math.random() * 4) + "s";
        ball.style.animationDelay = Math.random() * 3 + "s";

        area.appendChild(ball);
    }
}

generarBolas(document.getElementById("floatingTop"), 60);
generarBolas(document.getElementById("floatingBottom"), 60);

/* ============================================================
   Ã“RBITA 3D
============================================================ */

const orbita = document.getElementById("orbita");
let puntos = [];

const anillos = 20;
const puntosPorAnillo = 30;

for (let a = 0; a < anillos; a++) {
    const lat = (a / (anillos - 1)) * Math.PI - Math.PI / 2;
    const altura = Math.sin(lat) * 200;

    for (let i = 0; i < puntosPorAnillo; i++) {

        const p = document.createElement("div");
        p.classList.add("punto");

        const ang = (i / puntosPorAnillo) * Math.PI * 2;

        const lat2 = (a / (anillos - 1)) * Math.PI - Math.PI / 2;
        const radio = Math.cos(lat2) * 200;

        const x = Math.cos(ang) * radio;
        const z = Math.sin(ang) * radio;

        p.dataset.z = z;

        p.style.top = "50%";
        p.style.left = "50%";
        p.style.transform = `translate(${x}px, ${altura}px) translateZ(${z}px)`;

        orbita.appendChild(p);
        puntos.push(p);
    }
}

let angulo = 0;

function actualizarVisibilidad() {
    const rad = (angulo % 360) * Math.PI / 180;
    puntos.forEach(p => {
        const z = parseFloat(p.dataset.z);
        const factor = Math.cos(rad) * z;
        p.style.opacity = factor > 0 ? 1 : 0.15;
    });
}

/* ============================================================
   LÃ“GICA BINGO
============================================================ */

let balotas = Array.from({ length: 75 }, (_, i) => i + 1);
let intervalo = null;

const bola = document.getElementById("bola");

function obtenerLetra(n){
    if(n<=15) return "B";
    if(n<=30) return "I";
    if(n<=45) return "N";
    if(n<=60) return "G";
    return "O";
}

document.getElementById("btn").addEventListener("click", () => {

    if (balotas.length === 0) {
        bola.innerHTML = "FIN";
        return;
    }

    bola.innerHTML = "";
    puntos.forEach(p => p.style.opacity = 1);

    orbita.classList.add("girar");

    s_ruleta.currentTime = 0;
    s_ruleta.play();

    intervalo = setInterval(() => {
        angulo += 6;
        actualizarVisibilidad();
    }, 20);

    setTimeout(() => {

        clearInterval(intervalo);
        orbita.classList.remove("girar");

        puntos.forEach(p => p.style.opacity = 0);

        s_ruleta.pause();

        const index = Math.floor(Math.random()*balotas.length);
        const numero = balotas[index];
        const letra = obtenerLetra(numero);

        balotas.splice(index, 1);

        bola.classList.add("flash");
        bola.classList.add("shake");

        s_hit.play();

        bola.innerHTML = `${letra} ${numero}`;

        const span = document.createElement("span");
        span.className = "numero";
        span.textContent = numero;
        document.getElementById("historial"+letra).appendChild(span);

        s_pop.play();

    }, 3000);
});
</script>

</body>
</html>
